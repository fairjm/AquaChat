<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AquaChat.Pages.Templates.ChatItemTemplate"
             xmlns:models="clr-namespace:AquaChat.Models"
             x:DataType="models:Chat">

    <!-- can't add swipeView in collectionView https://github.com/dotnet/maui/issues/8168 -->
    <!--<SwipeView>
        <SwipeView.LeftItems>
            <SwipeItems>
                <SwipeItem Text="Delete"
                       BackgroundColor="LightPink"
                       Invoked="OnDeleteSwipeItemInvoked" />
            </SwipeItems>
        </SwipeView.LeftItems>-->
    <StackLayout HeightRequest="100">
        <Frame CornerRadius="15" HeightRequest="90" Padding="0">
            <Grid RowDefinitions="*" ColumnDefinitions="*, Auto" Padding="20,10,10,0">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer 
                        Tapped="OnItemTapped"  
                        NumberOfTapsRequired="1" />
                </Grid.GestureRecognizers>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="PointerOver">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#80E0E0E0" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#20E0E0E0" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <StackLayout Grid.Row="0">
                    <Label        
                        FontSize="20"
                    Text="{Binding Title}"/>
                    <Label         
                    Text="{Binding LastMessage}"/>
                </StackLayout>
                <StackLayout Grid.Row="0" 
                             Grid.Column="1">
                    <Label 
                    Grid.Row="0"
                    FontSize="12"
                    Text="{Binding Created}"/>

                    <Button>
                        <Button.ImageSource>
                        <FontImageSource Glyph="&#xf30c;"
                                         Size="44" />
                        </Button.ImageSource>
                    </Button>
                </StackLayout>
            </Grid>
        </Frame>
    </StackLayout>
    <!--</SwipeView>-->
</ContentView>
